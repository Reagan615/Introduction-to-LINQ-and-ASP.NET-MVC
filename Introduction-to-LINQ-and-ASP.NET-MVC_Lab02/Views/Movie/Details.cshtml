@model Introduction_to_LINQ_and_ASP.NET_MVC_Lab02.Models.Movie


@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <h4>Movie</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Title)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Title)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.ReleaseDate)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.ReleaseDate)
        </dd>
        <dt class = "col-sm-2">
            $@Html.DisplayNameFor(model => model.Budget)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Budget)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Genre)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Genre)
        </dd>
        <dt class="col-sm-2">
            Average Rating
        </dt>
        <dd class="col-sm-10">
            @ViewBag.AverageRating
        </dd>
    </dl>
</div>

<div>
    <h4>Credits</h4>
    @foreach(Role r in Model.GetRoles())
    {
        <div>
            <span>@r.Actor.Name</span>
            <span>@r.Credit</span>
        </div>
    }
</div>

<div>
    <form asp-action="AddRating" asp-route-id="@Model.Id">
        <input type="hidden" name="Id" value="@Model.Id" />
        <div class="form-group">
            <label for="rating">Rating (1-10):</label>
            <input type="number" class="form-control" id="rating" name="rating" min="1" max="10" required />
        </div>
        <div class="form-group">
            <label for="comment">Comment:</label>
            <textarea class="form-control" id="comment" name="comment" rows="3"></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
        
    </form>
</div>

<br></br>

<ul>
    @foreach (Rating r in Model.GetRatings())
    {
            <li>
                <p>Rating: @r.Value</p>
                <p>Comment: @r.Comment</p>
            </li>
    }
</ul>
       
        
